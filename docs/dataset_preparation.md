# è³‡æ–™é›†æº–å‚™æŒ‡å—

## ğŸ“¦ THETIS ç¶²çƒè³‡æ–™é›†

### é—œæ–¼ THETIS

THETIS (Tennis High-resolution Event and Tracking Identification System) æ˜¯ä¸€å€‹å…¬é–‹çš„ç¶²çƒæ¯”è³½è³‡æ–™é›†ï¼ŒåŒ…å«ï¼š
- é«˜å“è³ª RGB å½±ç‰‡
- å¤šç¨®æ“Šçƒå‹•ä½œæ¨™è¨»
- é©åˆç”¨æ–¼å‹•ä½œè¾¨è­˜ç ”ç©¶

**GitHub å„²å­˜åº«**: https://github.com/THETIS-dataset/dataset

---

## ğŸ”½ ä¸‹è¼‰æ–¹å¼

### æ–¹å¼ 1ï¼šä½¿ç”¨ä¸‹è¼‰è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
# åŸ·è¡Œä¸‹è¼‰è…³æœ¬
./scripts/download_thetis.sh

# æˆ–æŒ‡å®šä¸‹è¼‰ç›®éŒ„
./scripts/download_thetis.sh ~/Downloads/my_thetis
```

### æ–¹å¼ 2ï¼šæ‰‹å‹•ä¸‹è¼‰

```bash
# 1. å»ºç«‹æš«å­˜ç›®éŒ„
mkdir -p ~/Downloads/thetis_rgb
cd ~/Downloads/thetis_rgb

# 2. ä½¿ç”¨ Git sparse checkout åªä¸‹è¼‰ VIDEO_RGB
git init
git config core.sparseCheckout true
echo "VIDEO_RGB" >> .git/info/sparse-checkout

# 3. ä¸‹è¼‰è³‡æ–™
git remote add origin https://github.com/THETIS-dataset/dataset.git
git pull origin main
```

ä¸‹è¼‰å®Œæˆå¾Œï¼Œå½±ç‰‡æœƒåœ¨ `VIDEO_RGB/` è³‡æ–™å¤¾ä¸­ã€‚

---

## ğŸ“‚ æ•´ç†å½±ç‰‡åˆ°å°ˆæ¡ˆ

ä¸‹è¼‰å¾Œéœ€è¦å°‡å½±ç‰‡æŒ‰å‹•ä½œé¡å‹åˆ†é¡åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ï¼š

```bash
data/raw/tennis/
â”œâ”€â”€ flat_service/       # å¹³æ“Šç™¼çƒ
â”œâ”€â”€ slice_service/      # åˆ‡å‰Šç™¼çƒ
â”œâ”€â”€ smash/             # æ‰£æ®º/æ®ºçƒ
â”œâ”€â”€ forehand_flat/     # æ­£æ‰‹å¹³æ“Š
â”œâ”€â”€ backhand/          # åæ‰‹æ“Šçƒ
â”œâ”€â”€ forehand_volley/   # æ­£æ‰‹æˆªæ“Š
â””â”€â”€ backhand_volley/   # åæ‰‹æˆªæ“Š
```

### æ•´ç†æ­¥é©Ÿ

1. **æŸ¥çœ‹ THETIS çš„æ¨™è¨»æª”æ¡ˆ**
   - æª¢æŸ¥è³‡æ–™é›†ä¸­çš„ annotations æˆ– labels æª”æ¡ˆ
   - äº†è§£æ¯å€‹å½±ç‰‡å°æ‡‰çš„å‹•ä½œé¡å‹

2. **æ‰‹å‹•åˆ†é¡** æˆ– **ç·¨å¯«è…³æœ¬è‡ªå‹•åˆ†é¡**
   ```bash
   # ç¯„ä¾‹ï¼šæ‰‹å‹•è¤‡è£½
   cp ~/Downloads/thetis_rgb/VIDEO_RGB/serve_001.mp4 \
      data/raw/tennis/flat_service/
   ```

3. **é©—è­‰åˆ†é¡**
   - ç¢ºèªæ¯å€‹è³‡æ–™å¤¾å…§æœ‰è¶³å¤ çš„å½±ç‰‡
   - å»ºè­°æ¯é¡è‡³å°‘ 10-20 å€‹å½±ç‰‡

---

## ğŸ¥ å…¶ä»–è³‡æ–™ä¾†æº

### YouTube å½±ç‰‡ä¸‹è¼‰

ä½¿ç”¨ `yt-dlp` ä¸‹è¼‰ç¶²çƒæ•™å­¸å½±ç‰‡æˆ–æ¯”è³½ç‰‡æ®µï¼š

```bash
# å®‰è£ yt-dlp
brew install yt-dlp  # macOS
# æˆ– pip install yt-dlp

# ä¸‹è¼‰å½±ç‰‡
yt-dlp -f "best[height<=720]" \
    -o "data/raw/tennis/smash/%(title)s.%(ext)s" \
    "https://www.youtube.com/watch?v=VIDEO_ID"
```

### è‡ªå·±éŒ„è£½å½±ç‰‡

- ä½¿ç”¨æ‰‹æ©Ÿæˆ–ç›¸æ©ŸéŒ„è£½æ“Šçƒå‹•ä½œ
- å»ºè­°ï¼šæ¸…æ™°èƒŒæ™¯ã€å®Œæ•´å‹•ä½œã€2-5 ç§’é•·åº¦
- æ ¼å¼ï¼šMP4, AVI, MOV çš†å¯

---

## âœ‚ï¸ å½±ç‰‡å‰ªè¼¯å»ºè­°

å¦‚æœå½±ç‰‡å¤ªé•·ï¼Œéœ€è¦å‰ªè¼¯æˆå¤šå€‹çŸ­ç‰‡æ®µï¼š

### ä½¿ç”¨ FFmpeg

```bash
# å®‰è£ FFmpeg
brew install ffmpeg  # macOS

# å‰ªè¼¯å½±ç‰‡ï¼ˆå¾ç¬¬ 10 ç§’é–‹å§‹ï¼Œå‰ª 3 ç§’ï¼‰
ffmpeg -i input.mp4 -ss 00:00:10 -t 00:00:03 -c copy output.mp4

# æ‰¹æ¬¡å‰ªè¼¯è…³æœ¬ç¯„ä¾‹
for i in {1..10}; do
    start=$((i * 5))
    ffmpeg -i long_video.mp4 -ss $start -t 3 -c copy clip_$i.mp4
done
```

---

## ğŸ“Š è³‡æ–™é›†çµ±è¨ˆå»ºè­°

### æœ€å°éœ€æ±‚
- **æ¯å€‹é¡åˆ¥**: 10-20 å€‹å½±ç‰‡
- **ç¸½è¨ˆ**: 70-140 å€‹å½±ç‰‡
- **è¨“ç·´/é©—è­‰/æ¸¬è©¦**: è‡ªå‹•åˆ†å‰²ç‚º 70%/15%/15%

### ç†æƒ³è¦æ¨¡
- **æ¯å€‹é¡åˆ¥**: 50+ å€‹å½±ç‰‡
- **ç¸½è¨ˆ**: 350+ å€‹å½±ç‰‡
- **å¤šæ¨£æ€§**: ä¸åŒçƒå“¡ã€è§’åº¦ã€å ´åœ°

---

## ğŸ”„ é è™•ç†æµç¨‹

è³‡æ–™æº–å‚™å®Œæˆå¾Œï¼ŒåŸ·è¡Œé è™•ç†ï¼š

```bash
python3 src/data/preprocess_videos.py \
    --raw_dir data/raw/tennis \
    --output_dir data/processed/tennis \
    --split_ratio 0.7 0.15 0.15 \
    --target_size 224 224
```

é€™æœƒè‡ªå‹•ï¼š
- âœ… æå– RGB frames
- âœ… Resize åˆ° 224Ã—224
- âœ… è‡ªå‹•åˆ†å‰²ç‚º train/val/test
- âœ… ä¿å­˜ç‚ºè¨“ç·´å¯ç”¨æ ¼å¼

---

## ğŸ’¡ å°æç¤º

- **å…ˆå°å¾Œå¤§**: å…ˆç”¨å°‘é‡è³‡æ–™ï¼ˆæ¯é¡ 2-3 å€‹å½±ç‰‡ï¼‰æ¸¬è©¦æµç¨‹
- **è³‡æ–™å¢å¼·**: å¦‚æœè³‡æ–™å°‘ï¼Œé è™•ç†æ™‚æœƒè‡ªå‹•é€²è¡Œè³‡æ–™å¢å¼·
- **å‘½åè¦ç¯„**: å½±ç‰‡æª”åå»ºè­°æœ‰æ„ç¾©ï¼ˆå¦‚ `forehand_01.mp4`ï¼‰
- **å‚™ä»½**: ä¿ç•™åŸå§‹å½±ç‰‡çš„å‚™ä»½

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœåœ¨è³‡æ–™æº–å‚™éç¨‹ä¸­é‡åˆ°å•é¡Œï¼š
1. æŸ¥çœ‹ `quickstart.md` çš„ç–‘é›£æ’è§£ç« ç¯€
2. æª¢æŸ¥å½±ç‰‡æ ¼å¼æ˜¯å¦æ”¯æ´ï¼ˆ`.mp4`, `.avi`, `.mov`ï¼‰
3. ç¢ºèªè³‡æ–™å¤¾çµæ§‹æ˜¯å¦æ­£ç¢º
